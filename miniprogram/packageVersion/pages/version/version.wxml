<video muted bindtimeupdate="onTimeUpdate" bindended="videoEnd" enable-progress-gesture="{{false}}" loop="{{true}}" show-center-play-btn="{{false}}" object-fit="cover" src="{{videoSrc}}" id="myVideo" controls="{{false}}" class="video">
    <view wx:if="{{videoFilter}}" class="video-filter"></view>
    <!-- 人体采集相机 -->
    <!-- 安卓机处理 -->
    <canvas class="canvas" type="2d" id="angleCanvas"></canvas>
    <block wx:if="{{platForm==='ios'}}">
        <camera wx:if="{{showCamera}}" class="{{cvCheck?'camera':'camera camera-nobody'}}" resolution="low" frame-size="small" device-position="front" flash="off" binderror="refuseCameraPermission">
            <canvas style="{{cvCheck?'':'opacity: 0;'}}" class="canvas" type="2d" id="frameCanvas"></canvas>
            <block wx:if="{{frameCheck==='front'||frameCheck==='front_error'||frameCheck==='front_success'}}">
                <view class="light">
                    <image src="https://cos.painspective.com/jizhi/miniProgram/public/20240423-014902.png" mode="heightFix" class="frame"></image>
                    <block wx:if="{{frameCheck==='front_error'}}">
                        <view class="error"></view>
                        <view class="frame-border frame-border-error"></view>
                    </block>
                    <block wx:else>
                        <view class="frame-border"></view>
                        <view wx:if="{{frameCheck==='front_success'}}" class="scan"></view>
                    </block>
                </view>
            </block>
            <block wx:if="{{frameCheck==='side'||frameCheck==='side_error'||frameCheck==='side_success'}}">
                <view class="light">
                    <image style="left: 55%;" src="https://cos.painspective.com/jizhi/miniProgram/public/20240423-022910.png" mode="heightFix" class="frame"></image>
                    <image src="https://cos.painspective.com/jizhi/miniProgram/public/20240423-023131.png" mode="widthFix" class="frame-pointer"></image>
                    <block wx:if="{{frameCheck==='side_error'}}">
                        <view class="error"></view>
                        <view class="frame-border frame-border-error"></view>
                    </block>
                    <block wx:else>
                        <view class="frame-border"></view>
                        <view wx:if="{{frameCheck==='side_success'}}" class="scan"></view>
                    </block>
                </view>
            </block>
        </camera>
    </block>
    <!-- 其他情况处理 -->
    <block wx:else>
        <camera wx:if="{{showCamera}}" class="{{cvCheck?'camera-android':'camera-android camera-android-nobody'}}" resolution="low" frame-size="small" device-position="front" flash="off" binderror="refuseCameraPermission">
            <canvas style="{{cvCheck?'':'opacity: 0;'}}" class="canvas" type="2d" id="frameCanvas"></canvas>
            <block wx:if="{{frameCheck==='front'||frameCheck==='front_error'||frameCheck==='front_success'}}">
                <view class="light">
                    <image src="https://cos.painspective.com/jizhi/miniProgram/public/20240423-014902.png" mode="heightFix" class="frame"></image>
                    <block wx:if="{{frameCheck==='front_error'}}">
                        <view class="error"></view>
                        <view class="frame-border frame-border-error"></view>
                    </block>
                    <block wx:else>
                        <view class="frame-border"></view>
                        <view wx:if="{{frameCheck==='front_success'}}" class="scan"></view>
                    </block>
                </view>
            </block>
            <block wx:if="{{frameCheck==='side'||frameCheck==='side_error'||frameCheck==='side_success'}}">
                <view class="light">
                    <image src="https://cos.painspective.com/jizhi/miniProgram/public/20240423-022910.png" mode="heightFix" class="frame"></image>
                    <image src="https://cos.painspective.com/jizhi/miniProgram/public/20240423-023131.png" mode="widthFix" class="frame-pointer"></image>
                    <block wx:if="{{frameCheck==='side_error'}}">
                        <view class="error"></view>
                        <view class="frame-border frame-border-error"></view>
                    </block>
                    <block wx:else>
                        <view class="frame-border"></view>
                        <view wx:if="{{frameCheck==='side_success'}}" class="scan"></view>
                    </block>
                </view>
            </block>
        </camera>
    </block>
</video>
<cacheVideos id="cacheVideos"></cacheVideos>
<button bind:tap="skipTest" class="skip-btn" wx:if="{{mode=='develop'}}">跳过</button>
<button bind:tap="takePhoto" style="top: 60%;" class="skip-btn" wx:if="{{mode=='develop'}}">拍照模式</button>
<view wx:if="{{subtitle!=''}}" class="subtitle">{{subtitle}}</view>